
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../lec01/">
      
      
        <link rel="next" href="../lec03/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.2">
    
    
      
        <title>課題R2 - ソフトウェア演習II</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.50c56a3b.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="http://fonts.googleapis.com/earlyaccess/notosansjp.css">
    
      <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:600,800">
    
      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/default.min.css">
    
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
    
      <link rel="stylesheet" href="../css/custom.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#r2" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="ソフトウェア演習II" class="md-header__button md-logo" aria-label="ソフトウェア演習II" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ソフトウェア演習II
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              課題R2
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../lec00/" class="md-tabs__link">
        
  
    
  
  課題R0

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../lec01/" class="md-tabs__link">
        
  
    
  
  課題R1

      </a>
    </li>
  

      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
    
  
  課題R2

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../lec03/" class="md-tabs__link">
        
  
    
  
  課題R3

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../lec04/" class="md-tabs__link">
        
  
    
  
  課題R4

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../ref01/" class="md-tabs__link">
        
  
    
  
  参考資料1

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="ソフトウェア演習II" class="md-nav__button md-logo" aria-label="ソフトウェア演習II" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    ソフトウェア演習II
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lec00/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    課題R0
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lec01/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    課題R1
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    課題R2
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    課題R2
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      課題の概要
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      データ構造
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      課題1 フライト一覧の表示機能の実装
    </span>
  </a>
  
    <nav class="md-nav" aria-label="課題1 フライト一覧の表示機能の実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      プログラムの実装
    </span>
  </a>
  
    <nav class="md-nav" aria-label="プログラムの実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_1" class="md-nav__link">
    <span class="md-ellipsis">
      演習課題1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      演習課題2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      演習課題3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      演習課題4
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      演習課題5
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2_1" class="md-nav__link">
    <span class="md-ellipsis">
      課題2 フライトの検索機能の実装
    </span>
  </a>
  
    <nav class="md-nav" aria-label="課題2 フライトの検索機能の実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      プログラムの実装
    </span>
  </a>
  
    <nav class="md-nav" aria-label="プログラムの実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      演習課題6
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7" class="md-nav__link">
    <span class="md-ellipsis">
      演習課題7
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8" class="md-nav__link">
    <span class="md-ellipsis">
      演習課題8
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9" class="md-nav__link">
    <span class="md-ellipsis">
      演習課題9
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#10" class="md-nav__link">
    <span class="md-ellipsis">
      演習課題10
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      補足資料
    </span>
  </a>
  
    <nav class="md-nav" aria-label="補足資料">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cli" class="md-nav__link">
    <span class="md-ellipsis">
      コマンドラインインタフェース（CLI）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      パス
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#c" class="md-nav__link">
    <span class="md-ellipsis">
      C 言語でのコマンド引数の扱い
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      ファイル入出力
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lec03/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    課題R3
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lec04/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    課題R4
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../ref01/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    参考資料1
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      課題の概要
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      データ構造
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      課題1 フライト一覧の表示機能の実装
    </span>
  </a>
  
    <nav class="md-nav" aria-label="課題1 フライト一覧の表示機能の実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      プログラムの実装
    </span>
  </a>
  
    <nav class="md-nav" aria-label="プログラムの実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_1" class="md-nav__link">
    <span class="md-ellipsis">
      演習課題1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      演習課題2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      演習課題3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      演習課題4
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      演習課題5
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2_1" class="md-nav__link">
    <span class="md-ellipsis">
      課題2 フライトの検索機能の実装
    </span>
  </a>
  
    <nav class="md-nav" aria-label="課題2 フライトの検索機能の実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      プログラムの実装
    </span>
  </a>
  
    <nav class="md-nav" aria-label="プログラムの実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      演習課題6
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7" class="md-nav__link">
    <span class="md-ellipsis">
      演習課題7
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8" class="md-nav__link">
    <span class="md-ellipsis">
      演習課題8
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9" class="md-nav__link">
    <span class="md-ellipsis">
      演習課題9
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#10" class="md-nav__link">
    <span class="md-ellipsis">
      演習課題10
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      補足資料
    </span>
  </a>
  
    <nav class="md-nav" aria-label="補足資料">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cli" class="md-nav__link">
    <span class="md-ellipsis">
      コマンドラインインタフェース（CLI）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      パス
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#c" class="md-nav__link">
    <span class="md-ellipsis">
      C 言語でのコマンド引数の扱い
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      ファイル入出力
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="r2">課題 R2 「フライトスケジュールの表示・検索」</h1>
<h2 id="_1">課題の概要</h2>
<p>この課題では，空港のフライトスケジュールの表示および検索を行うCプログラム  <code>flight.c</code>  を作成することを目的とする．</p>
<p>本課題では，岡山空港の岡山-羽田間のフライトスケジュールの一部を対象とし，データはテキストファイル(<a href="../data/JAL_O2T.txt">JAL_O2T.txt</a>, <a href="../data/JAL_T2O.txt">JAL_T2O.txt</a>, <a href="../data/ANA_O2T.txt">ANA_O2T.txt</a>, <a href="../data/ANA_T2O.txt">ANA_T2O.txt</a>)として与えられるものとする．</p>
<h2 id="_2">データ構造</h2>
<p>プログラムでデータを扱うためには，まずデータ構造を決める必要がある．
フライトは，複数の出発および到着時刻の組から構成されるため，本課題ではフライトスケジュールを配列<code>airline</code>として表すことにする．
そして，配列<code>airline</code>の要素となるフライト情報は，便名や出発および到着時刻など複数のデータを持つため，構造体を用いて定義する．</p>
<p>本演習では，配列<code>airline</code>の要素となる構造体の型<code>FLIGHT</code>を以下のように定義する．</p>
<div class="highlight" style="background: #272822"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-1"> 1</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-2"> 2</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-3"> 3</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-4"> 4</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-5"> 5</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-6"> 6</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-7"> 7</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-8"> 8</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-9"> 9</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-10">10</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span style="color: #66d9ef">typedef</span><span style="color: #f8f8f2"> </span><span style="color: #66d9ef">struct</span><span style="color: #f8f8f2"> {</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span style="color: #f8f8f2">    </span><span style="color: #66d9ef">char</span><span style="color: #f8f8f2"> carrier[</span><span style="color: #ae81ff">8</span><span style="color: #f8f8f2">];</span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a><span style="color: #f8f8f2">    </span><span style="color: #66d9ef">char</span><span style="color: #f8f8f2"> from[</span><span style="color: #ae81ff">8</span><span style="color: #f8f8f2">];</span>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a><span style="color: #f8f8f2">    </span><span style="color: #66d9ef">char</span><span style="color: #f8f8f2"> to[</span><span style="color: #ae81ff">8</span><span style="color: #f8f8f2">];</span>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a><span style="color: #f8f8f2">    </span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> num;</span>
<a id="__codelineno-0-6" name="__codelineno-0-6"></a><span style="color: #f8f8f2">    </span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> d_hour;</span>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a><span style="color: #f8f8f2">    </span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> d_min;</span>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a><span style="color: #f8f8f2">    </span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> a_hour;</span>
<a id="__codelineno-0-9" name="__codelineno-0-9"></a><span style="color: #f8f8f2">    </span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> a_min;</span>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a><span style="color: #f8f8f2">} FLIGHT;</span>
</code></pre></div></td></tr></table></div>
<p><code>FLIGHT</code> 型の構造体は以下の構造をもつ．</p>
<p><center>
<img src="../img/r2/r2-2.png" width="480">
</center></p>
<p><code>FLIGHT</code>型の構造体は要素として，航空会社を表す文字列<code>carrier</code>，出発地を表す文字列<code>from</code>，到着地を表す文字列<code>to</code>，便名を表す整数<code>num</code>，出発時刻の時と分を表す整数<code>d_hour</code>と<code>d_min</code>，そして到着時刻の時と分を表す整数<code>a_hour</code>と<code>a_min</code> の8つをもつ．
そして，<code>FLIGHT</code>型の配列<code>airline</code>は以下のように宣言する．</p>
<div class="highlight" style="background: #272822"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-1-1">1</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span style="color: #f8f8f2">FLIGHT airline[MAX];</span>
</code></pre></div></td></tr></table></div>
<p>ここで，配列の要素数MAXは与えられたテキストファイルのデータを処理するのに十分でなければならないが，本演習では<code>MAX=16</code>とする．</p>
<h2 id="1">課題1 フライト一覧の表示機能の実装</h2>
<p>まず，テキストファイルからフライトスケジュールを読み込み，以下に示すような形式で標準入出力に表示するプログラムを作成する．</p>
<div class="highlight" style="background: #272822"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-2-1">1</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-2-2">2</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-2-3">3</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-2-4">4</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-2-5">5</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-2-6">6</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-2-7">7</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-2-8">8</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span style="color: #ff4689; font-weight: bold">$ </span>./flight1<span style="color: #f8f8f2"> </span>JAL_O2T.txt
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span style="color: #66d9ef">フライトスケジュールを表示します．</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a><span style="color: #66d9ef">No 便名     岡山発  羽田着</span>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a><span style="color: #66d9ef">1. JAL232   7:10   8:20</span>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a><span style="color: #66d9ef">2. JAL234  10:00  11:15</span>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a><span style="color: #66d9ef">3. JAL236  12:55  14:10</span>
<a id="__codelineno-2-7" name="__codelineno-2-7"></a><span style="color: #66d9ef">4. JAL240  16:40  17:55</span>
<a id="__codelineno-2-8" name="__codelineno-2-8"></a><span style="color: #66d9ef">5. JAL242  18:30  19:45</span>
</code></pre></div></td></tr></table></div>
<p>フライトスケジュールのデータが格納されているテキストファイルの内容を以下に示す．
1行目には航空会社名，2行目と3行目には出発地と到着地が書かれており，4行目以降の各行には便名，出発時刻，そして到着時刻が書かれている．
また，出発および到着時刻は「:」(半角コロン)で区切られた1～2桁の整数の組として書かれているものとする．</p>
<p><center>
<img src="../img/r2/r2-1.png" width="480">
</center></p>
<h3 id="_3">プログラムの実装</h3>
<p>このプログラムの機能は，テキストファイルから航空路線のフライトスケジュールを読み込み<code>FLIGHT</code>型の配列<code>airline</code>へと格納する関数<code>read_airline()</code>と，<code>FLIGHT</code>型の配列<code>airline</code>に格納された航空路線のフライトスケジュールを標準入出力に表示する関数<code>print_airline()</code>の2つの関数によって実現する．</p>
<h4 id="1_1">演習課題1</h4>
<p>コロン「<code>:</code>」で区切られた1～2桁の整数の組である文字列<code>time_str</code>と整数<code>hour</code>と<code>min</code>へのポインタを引数として，コロンの前後の整数をそれぞれ<code>hour</code>と<code>min</code>に格納する関数<code>split_time()</code>を作成せよ．</p>
<div class="admonition tip">
<p class="admonition-title">文字列からのデータ読み込み</p>
<p><code>sscanf</code> 関数では，<code>scanf</code> 関数と同様にフォーマット指定子を用いて文字列からのデータ読み込みが可能である．</p>
<p>書式：</p>
<ul>
<li><code>sscanf(文字列, フォーマット, 代入先変数1へのポインタ, 代入先変数2へのポインタ, ...)</code></li>
</ul>
<p>例：</p>
<div class="highlight" style="background: #272822"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-3-1">1</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-3-2">2</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-3-3">3</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span style="color: #66d9ef">char</span><span style="color: #f8f8f2"> str[</span><span style="color: #ae81ff">16</span><span style="color: #f8f8f2">] </span><span style="color: #ff4689">=</span><span style="color: #f8f8f2"> </span><span style="color: #e6db74">&quot;2022年4月1日&quot;</span><span style="color: #f8f8f2">;</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> year, month, day;</span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><span style="color: #f8f8f2">sscanf(str, </span><span style="color: #e6db74">&quot;%d年%d月%d日&quot;</span><span style="color: #f8f8f2">, </span><span style="color: #ff4689">&amp;</span><span style="color: #f8f8f2">year, </span><span style="color: #ff4689">&amp;</span><span style="color: #f8f8f2">month, </span><span style="color: #ff4689">&amp;</span><span style="color: #f8f8f2">day); </span><span style="color: #959077">// year = 2022, month = 4, day = 1 が代入される</span>
</code></pre></div></td></tr></table></div>
</div>
<p><div class="highlight" style="background: #272822"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">プロトタイプ宣言</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-4-1">1</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span style="color: #66d9ef">void</span><span style="color: #f8f8f2"> </span><span style="color: #a6e22e">split_time</span><span style="color: #f8f8f2"> (</span><span style="color: #66d9ef">char</span><span style="color: #f8f8f2"> </span><span style="color: #ff4689">*</span><span style="color: #f8f8f2">time_str, </span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> </span><span style="color: #ff4689">*</span><span style="color: #f8f8f2">hour, </span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> </span><span style="color: #ff4689">*</span><span style="color: #f8f8f2">min);</span>
</code></pre></div></td></tr></table></div>
<code>split_time()</code> 関数の呼び出し例を，サンプルコード <a href="../sample/kadaiR2-1.c">kadaiR2-1.c</a> に示している．
以下に <code>main</code> 関数を抜粋する．
このサンプルコードでは，<code>split_time()</code> 関数によって文字列 <code>7:10</code> を <code>:</code> で分割して変数 <code>hour</code> と <code>min</code> に格納し，それぞれを2桁の整数として標準出力に表示している．</p>
<div class="highlight" style="background: #272822"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">kadaiR2-1.c から抜粋</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-5-1"> 1</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-5-2"> 2</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-5-3"> 3</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-5-4"> 4</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-5-5"> 5</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-5-6"> 6</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-5-7"> 7</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-5-8"> 8</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-5-9"> 9</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-5-10">10</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> </span><span style="color: #a6e22e">main</span><span style="color: #f8f8f2">(){</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span style="color: #f8f8f2">    </span><span style="color: #66d9ef">char</span><span style="color: #f8f8f2"> time_str[</span><span style="color: #ae81ff">8</span><span style="color: #f8f8f2">] </span><span style="color: #ff4689">=</span><span style="color: #f8f8f2"> </span><span style="color: #e6db74">&quot;7:10&quot;</span><span style="color: #f8f8f2">;</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span style="color: #f8f8f2">    </span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> hour, min;</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a><span style="color: #f8f8f2">    split_time(time_str, </span><span style="color: #ff4689">&amp;</span><span style="color: #f8f8f2">hour, </span><span style="color: #ff4689">&amp;</span><span style="color: #f8f8f2">min);</span>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a><span style="color: #f8f8f2">    printf(</span><span style="color: #e6db74">&quot;hour = %02d</span><span style="color: #ae81ff">\n</span><span style="color: #e6db74">&quot;</span><span style="color: #f8f8f2">, hour);</span>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a><span style="color: #f8f8f2">    printf(</span><span style="color: #e6db74">&quot;min = %02d</span><span style="color: #ae81ff">\n</span><span style="color: #e6db74">&quot;</span><span style="color: #f8f8f2">, min);</span>
<a id="__codelineno-5-8" name="__codelineno-5-8"></a>
<a id="__codelineno-5-9" name="__codelineno-5-9"></a><span style="color: #f8f8f2">    </span><span style="color: #66d9ef">return</span><span style="color: #f8f8f2"> </span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">;</span>
<a id="__codelineno-5-10" name="__codelineno-5-10"></a><span style="color: #f8f8f2">}</span>
</code></pre></div></td></tr></table></div>
<p>このプログラムをコンパイルし，実行すると，以下の結果が得られる．</p>
<div class="highlight" style="background: #272822"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-6-1">1</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-6-2">2</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-6-3">3</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-6-4">4</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span style="color: #ff4689; font-weight: bold">$ </span>gcc<span style="color: #f8f8f2"> </span>kadaiR2-1.c<span style="color: #f8f8f2"> </span>-o<span style="color: #f8f8f2"> </span>kadaiR2-1
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><span style="color: #ff4689; font-weight: bold">$ </span>./kadaiR2-1
<a id="__codelineno-6-3" name="__codelineno-6-3"></a><span style="color: #66d9ef">hour = 07</span>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a><span style="color: #66d9ef">min = 10</span>
</code></pre></div></td></tr></table></div>
<h4 id="2">演習課題2</h4>
<p>航空路線のフライトデータが格納されたファイル名<code>filename</code>とフライトスケジュールの格納先となる<code>FLIGHT</code>型の配列<code>airline</code>を引数として，構造体にフライトスケジュールを格納し，フライト数を戻り値として返す関数<code>read_airline()</code>を作成せよ．</p>
<ul>
<li><code>fgets</code>関数でファイルから行単位で読み出すとき，得られた文字列は末尾に改行文字<code>\n</code>が含まれることに注意せよ．</li>
</ul>
<div class="highlight" style="background: #272822"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">プロトタイプ宣言</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-7-1">1</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> </span><span style="color: #a6e22e">read_airline</span><span style="color: #f8f8f2"> (</span><span style="color: #66d9ef">char</span><span style="color: #f8f8f2"> filename[], FLIGHT airline[]);</span>
</code></pre></div></td></tr></table></div>
<p>関数<code>read_airline()</code>内でファイルを開く際には，以下のように<code>filename</code>で与えられたファイル名を引数として<code>fopen</code>を実行し，「<code>JAL_O2T.txt</code>」などのファイル名を直接指定しない．</p>
<div class="highlight" style="background: #272822"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">ファイル処理を追加</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-8-1">1</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-8-2">2</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-8-3">3</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-8-4">4</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-8-5">5</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-8-6">6</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-8-7">7</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-8-8">8</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> </span><span style="color: #a6e22e">read_airline</span><span style="color: #f8f8f2"> (</span><span style="color: #66d9ef">char</span><span style="color: #f8f8f2"> filename[], FLIGHT airline[]){</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a><span style="color: #f8f8f2">    </span><span style="color: #66d9ef">FILE</span><span style="color: #f8f8f2"> </span><span style="color: #ff4689">*</span><span style="color: #f8f8f2">fp;</span>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a><span style="color: #f8f8f2">    </span><span style="color: #66d9ef">if</span><span style="color: #f8f8f2"> ((fp </span><span style="color: #ff4689">=</span><span style="color: #f8f8f2"> fopen(filename, </span><span style="color: #e6db74">&quot;r&quot;</span><span style="color: #f8f8f2">)) </span><span style="color: #ff4689">==</span><span style="color: #f8f8f2"> NULL) {</span>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a><span style="color: #f8f8f2">        printf(</span><span style="color: #e6db74">&quot;can not open file.</span><span style="color: #ae81ff">\n</span><span style="color: #e6db74">&quot;</span><span style="color: #f8f8f2">);</span>
<a id="__codelineno-8-5" name="__codelineno-8-5"></a><span style="color: #f8f8f2">        exit(EXIT_FAILURE);</span>
<a id="__codelineno-8-6" name="__codelineno-8-6"></a><span style="color: #f8f8f2">    }</span>
<a id="__codelineno-8-7" name="__codelineno-8-7"></a><span style="color: #f8f8f2">    </span><span style="color: #959077">// ↓↓↓ 以下，関数の処理を書く ↓↓↓</span>
<a id="__codelineno-8-8" name="__codelineno-8-8"></a><span style="color: #f8f8f2">}</span>
</code></pre></div></td></tr></table></div>
<p><code>read_airline()</code> 関数の呼び出し例を，サンプルコード <a href="../sample/kadaiR2-2.c">kadaiR2-2.c</a> に示している．
以下に <code>main</code> 関数を抜粋する．
このサンプルコードでは，<code>read_airline()</code> 関数によって引数として指定されたファイルを読み込み，<code>FLIGHT</code> 型の配列 <code>airline</code> に格納している．</p>
<div class="highlight" style="background: #272822"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">kadaiR2-2.c から抜粋</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-9-1"> 1</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-9-2"> 2</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-9-3"> 3</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-9-4"> 4</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-9-5"> 5</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-9-6"> 6</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-9-7"> 7</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-9-8"> 8</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-9-9"> 9</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-9-10">10</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-9-11">11</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-9-12">12</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-9-13">13</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-9-14">14</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-9-15">15</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> </span><span style="color: #a6e22e">main</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> argc, </span><span style="color: #66d9ef">char</span><span style="color: #f8f8f2"> </span><span style="color: #ff4689">*</span><span style="color: #f8f8f2">argv[]){</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a><span style="color: #f8f8f2">    FLIGHT airline[MAX];</span>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a>
<a id="__codelineno-9-4" name="__codelineno-9-4"></a><span style="color: #f8f8f2">    read_airline(argv[</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">], airline);</span>
<a id="__codelineno-9-5" name="__codelineno-9-5"></a><span style="color: #f8f8f2">    printf(</span><span style="color: #e6db74">&quot;carrier : %s</span><span style="color: #ae81ff">\n</span><span style="color: #e6db74">&quot;</span><span style="color: #f8f8f2">, airline[</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">].carrier);</span>
<a id="__codelineno-9-6" name="__codelineno-9-6"></a><span style="color: #f8f8f2">    printf(</span><span style="color: #e6db74">&quot;from    : %s</span><span style="color: #ae81ff">\n</span><span style="color: #e6db74">&quot;</span><span style="color: #f8f8f2">, airline[</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">].from);</span>
<a id="__codelineno-9-7" name="__codelineno-9-7"></a><span style="color: #f8f8f2">    printf(</span><span style="color: #e6db74">&quot;to      : %s</span><span style="color: #ae81ff">\n</span><span style="color: #e6db74">&quot;</span><span style="color: #f8f8f2">, airline[</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">].to);</span>
<a id="__codelineno-9-8" name="__codelineno-9-8"></a><span style="color: #f8f8f2">    printf(</span><span style="color: #e6db74">&quot;num     : %d</span><span style="color: #ae81ff">\n</span><span style="color: #e6db74">&quot;</span><span style="color: #f8f8f2">, airline[</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">].num);</span>
<a id="__codelineno-9-9" name="__codelineno-9-9"></a><span style="color: #f8f8f2">    printf(</span><span style="color: #e6db74">&quot;d_hour  : %02d</span><span style="color: #ae81ff">\n</span><span style="color: #e6db74">&quot;</span><span style="color: #f8f8f2">, airline[</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">].d_hour);</span>
<a id="__codelineno-9-10" name="__codelineno-9-10"></a><span style="color: #f8f8f2">    printf(</span><span style="color: #e6db74">&quot;d_min   : %02d</span><span style="color: #ae81ff">\n</span><span style="color: #e6db74">&quot;</span><span style="color: #f8f8f2">, airline[</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">].d_min);</span>
<a id="__codelineno-9-11" name="__codelineno-9-11"></a><span style="color: #f8f8f2">    printf(</span><span style="color: #e6db74">&quot;a_hour  : %02d</span><span style="color: #ae81ff">\n</span><span style="color: #e6db74">&quot;</span><span style="color: #f8f8f2">, airline[</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">].a_hour);</span>
<a id="__codelineno-9-12" name="__codelineno-9-12"></a><span style="color: #f8f8f2">    printf(</span><span style="color: #e6db74">&quot;a_min   : %02d</span><span style="color: #ae81ff">\n</span><span style="color: #e6db74">&quot;</span><span style="color: #f8f8f2">, airline[</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">].a_min);</span>
<a id="__codelineno-9-13" name="__codelineno-9-13"></a>
<a id="__codelineno-9-14" name="__codelineno-9-14"></a><span style="color: #f8f8f2">    </span><span style="color: #66d9ef">return</span><span style="color: #f8f8f2"> </span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">;</span>
<a id="__codelineno-9-15" name="__codelineno-9-15"></a><span style="color: #f8f8f2">}</span>
</code></pre></div></td></tr></table></div>
<p>このプログラムをコンパイルし，実行すると，以下の結果が得られる．</p>
<div class="highlight" style="background: #272822"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-10-1"> 1</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-10-2"> 2</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-10-3"> 3</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-10-4"> 4</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-10-5"> 5</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-10-6"> 6</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-10-7"> 7</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-10-8"> 8</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-10-9"> 9</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-10-10">10</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span style="color: #ff4689; font-weight: bold">$ </span>gcc<span style="color: #f8f8f2"> </span>kadaiR2-2.c<span style="color: #f8f8f2"> </span>-o<span style="color: #f8f8f2"> </span>kadaiR2-2
<a id="__codelineno-10-2" name="__codelineno-10-2"></a><span style="color: #ff4689; font-weight: bold">$ </span>./kadaiR2-2<span style="color: #f8f8f2"> </span>JALO2T.txt
<a id="__codelineno-10-3" name="__codelineno-10-3"></a><span style="color: #66d9ef">carrier : JAL</span>
<a id="__codelineno-10-4" name="__codelineno-10-4"></a><span style="color: #66d9ef">from    : 岡山</span>
<a id="__codelineno-10-5" name="__codelineno-10-5"></a><span style="color: #66d9ef">to      : 東京</span>
<a id="__codelineno-10-6" name="__codelineno-10-6"></a><span style="color: #66d9ef">num     : 232</span>
<a id="__codelineno-10-7" name="__codelineno-10-7"></a><span style="color: #66d9ef">d_hour  : 07</span>
<a id="__codelineno-10-8" name="__codelineno-10-8"></a><span style="color: #66d9ef">d_min   : 10</span>
<a id="__codelineno-10-9" name="__codelineno-10-9"></a><span style="color: #66d9ef">a_hour  : 08</span>
<a id="__codelineno-10-10" name="__codelineno-10-10"></a><span style="color: #66d9ef">a_min   : 20</span>
</code></pre></div></td></tr></table></div>
<h4 id="3">演習課題3</h4>
<p>フライト情報のデータが格納された<code>FLIGHT</code>型の構造体<code>flight</code>を引数として，フライト情報を標準入出力に表示する関数<code>print_flight_row()</code>を作成せよ．</p>
<div class="highlight" style="background: #272822"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">プロトタイプ宣言</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-11-1">1</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span style="color: #66d9ef">void</span><span style="color: #f8f8f2"> </span><span style="color: #a6e22e">print_flight_row</span><span style="color: #f8f8f2"> (FLIGHT flight);</span>
</code></pre></div></td></tr></table></div>
<p>出力形式は，</p>
<ul>
<li>JAL232␣␣␣7:10␣␣␣8:20</li>
<li>JAL234␣␣10:00␣␣11:15</li>
</ul>
<p>のように，便名と出発時刻，到着時刻を半角スペース×2で区切ったものとする．
時刻の時，分の表示桁数はどちらも 2 桁とする．</p>
<p><code>print_flight_row()</code> 関数の呼び出し例をサンプルコード <a href="../sample/kadaiR2-3.c">kadaiR2-3.c</a> に示している．
以下に <code>main</code> 関数を抜粋する．
このサンプルコードでは，<code>for</code> 文で <code>airline</code> の各要素を参照し，<code>print_flight_row()</code> 関数によって標準出力への表示を行っている．
なお，<code>read_airline</code> の戻り値として <code>airline</code> に格納されたフライト数を取得し，変数 <code>n</code> に格納している．</p>
<div class="highlight" style="background: #272822"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">kadaiR2-3.c から抜粋</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-12-1"> 1</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-12-2"> 2</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-12-3"> 3</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-12-4"> 4</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-12-5"> 5</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-12-6"> 6</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-12-7"> 7</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-12-8"> 8</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-12-9"> 9</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-12-10">10</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-12-11">11</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> </span><span style="color: #a6e22e">main</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> argc, </span><span style="color: #66d9ef">char</span><span style="color: #f8f8f2"> </span><span style="color: #ff4689">*</span><span style="color: #f8f8f2">argv[]){</span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a><span style="color: #f8f8f2">    FLIGHT airline[MAX];</span>
<a id="__codelineno-12-3" name="__codelineno-12-3"></a><span style="color: #f8f8f2">    </span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> i, n;</span>
<a id="__codelineno-12-4" name="__codelineno-12-4"></a>
<a id="__codelineno-12-5" name="__codelineno-12-5"></a><span style="color: #f8f8f2">    n </span><span style="color: #ff4689">=</span><span style="color: #f8f8f2"> read_airline(argv[</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">], airline);</span>
<a id="__codelineno-12-6" name="__codelineno-12-6"></a><span style="color: #f8f8f2">    </span><span style="color: #66d9ef">for</span><span style="color: #f8f8f2">(i</span><span style="color: #ff4689">=</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">; i</span><span style="color: #ff4689">&lt;</span><span style="color: #f8f8f2">n; i</span><span style="color: #ff4689">++</span><span style="color: #f8f8f2">){</span>
<a id="__codelineno-12-7" name="__codelineno-12-7"></a><span style="color: #f8f8f2">        print_flight_row(airline[i]);</span>
<a id="__codelineno-12-8" name="__codelineno-12-8"></a><span style="color: #f8f8f2">    }</span>
<a id="__codelineno-12-9" name="__codelineno-12-9"></a>
<a id="__codelineno-12-10" name="__codelineno-12-10"></a><span style="color: #f8f8f2">    </span><span style="color: #66d9ef">return</span><span style="color: #f8f8f2"> </span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">;</span>
<a id="__codelineno-12-11" name="__codelineno-12-11"></a><span style="color: #f8f8f2">}</span>
</code></pre></div></td></tr></table></div>
<p>このプログラムをコンパイルし，実行すると，以下の結果が得られる．</p>
<div class="highlight" style="background: #272822"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-13-1">1</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-13-2">2</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-13-3">3</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-13-4">4</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-13-5">5</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-13-6">6</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-13-7">7</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span style="color: #ff4689; font-weight: bold">$ </span>gcc<span style="color: #f8f8f2"> </span>kadaiR2-3.c<span style="color: #f8f8f2"> </span>-o<span style="color: #f8f8f2"> </span>kadaiR2-3
<a id="__codelineno-13-2" name="__codelineno-13-2"></a><span style="color: #ff4689; font-weight: bold">$ </span>./kadaiR2-3<span style="color: #f8f8f2"> </span>JALO2T.txt
<a id="__codelineno-13-3" name="__codelineno-13-3"></a><span style="color: #66d9ef">JAL232   7:10   8:20</span>
<a id="__codelineno-13-4" name="__codelineno-13-4"></a><span style="color: #66d9ef">JAL234  10:00  11:15</span>
<a id="__codelineno-13-5" name="__codelineno-13-5"></a><span style="color: #66d9ef">JAL236  12:55  14:10</span>
<a id="__codelineno-13-6" name="__codelineno-13-6"></a><span style="color: #66d9ef">JAL240  16:40  17:55</span>
<a id="__codelineno-13-7" name="__codelineno-13-7"></a><span style="color: #66d9ef">JAL242  18:30  19:45</span>
</code></pre></div></td></tr></table></div>
<h4 id="4">演習課題4</h4>
<p>航空路線のフライトスケジュールのデータが格納された<code>FLIGHT</code>型の配列<code>airline</code>およびフライト数を表す整数<code>n</code>を引数として，航空路線のフライトスケジュールを標準入出力に表示する関数<code>print_airline()</code>を作成せよ．</p>
<div class="highlight" style="background: #272822"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">プロトタイプ宣言</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-14-1">1</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span style="color: #66d9ef">void</span><span style="color: #f8f8f2"> </span><span style="color: #a6e22e">print_airline</span><span style="color: #f8f8f2">(FLIGHT airline[], </span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> n);</span>
</code></pre></div></td></tr></table></div>
<p><code>print_airline()</code> 関数の呼び出し例をサンプルコード <a href="../sample/kadaiR2-4.c">kadaiR2-4.c</a> に示している．
以下に <code>main</code> 関数を抜粋する．
このサンプルコードでは，kadaiR2-3.c と同様にフライト情報を <code>airline</code> に格納した後，<code>print_airline()</code> 関数によってそれらを出力している．</p>
<div class="highlight" style="background: #272822"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">kadaiR2-4.c から抜粋</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-15-1">1</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-15-2">2</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-15-3">3</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-15-4">4</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-15-5">5</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-15-6">6</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-15-7">7</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-15-8">8</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-15-9">9</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> </span><span style="color: #a6e22e">main</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> argc, </span><span style="color: #66d9ef">char</span><span style="color: #f8f8f2"> </span><span style="color: #ff4689">*</span><span style="color: #f8f8f2">argv[]){</span>
<a id="__codelineno-15-2" name="__codelineno-15-2"></a><span style="color: #f8f8f2">    FLIGHT airline[MAX];</span>
<a id="__codelineno-15-3" name="__codelineno-15-3"></a><span style="color: #f8f8f2">    </span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> n;</span>
<a id="__codelineno-15-4" name="__codelineno-15-4"></a>
<a id="__codelineno-15-5" name="__codelineno-15-5"></a><span style="color: #f8f8f2">    n </span><span style="color: #ff4689">=</span><span style="color: #f8f8f2"> read_airline(argv[</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">], airline);</span>
<a id="__codelineno-15-6" name="__codelineno-15-6"></a><span style="color: #f8f8f2">    print_airline(airline, n);</span>
<a id="__codelineno-15-7" name="__codelineno-15-7"></a>
<a id="__codelineno-15-8" name="__codelineno-15-8"></a><span style="color: #f8f8f2">    </span><span style="color: #66d9ef">return</span><span style="color: #f8f8f2"> </span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">;</span>
<a id="__codelineno-15-9" name="__codelineno-15-9"></a><span style="color: #f8f8f2">}</span>
</code></pre></div></td></tr></table></div>
<p>このプログラムをコンパイルし，実行すると，以下の結果が得られる．</p>
<div class="highlight" style="background: #272822"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-16-1">1</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-16-2">2</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-16-3">3</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-16-4">4</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-16-5">5</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-16-6">6</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-16-7">7</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-16-8">8</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-16-9">9</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a><span style="color: #ff4689; font-weight: bold">$ </span>gcc<span style="color: #f8f8f2"> </span>kadaiR2-4.c<span style="color: #f8f8f2"> </span>-o<span style="color: #f8f8f2"> </span>kadaiR2-4
<a id="__codelineno-16-2" name="__codelineno-16-2"></a><span style="color: #ff4689; font-weight: bold">$ </span>./kadaiR2-4<span style="color: #f8f8f2"> </span>JALO2T.txt
<a id="__codelineno-16-3" name="__codelineno-16-3"></a><span style="color: #66d9ef">フライトスケジュールを表示します．</span>
<a id="__codelineno-16-4" name="__codelineno-16-4"></a><span style="color: #66d9ef">No  便名     岡山発  羽田着</span>
<a id="__codelineno-16-5" name="__codelineno-16-5"></a><span style="color: #66d9ef">1.  JAL232   7:10   8:20</span>
<a id="__codelineno-16-6" name="__codelineno-16-6"></a><span style="color: #66d9ef">2.  JAL234  10:00  11:15</span>
<a id="__codelineno-16-7" name="__codelineno-16-7"></a><span style="color: #66d9ef">3.  JAL236  12:55  14:10</span>
<a id="__codelineno-16-8" name="__codelineno-16-8"></a><span style="color: #66d9ef">4.  JAL240  16:40  17:55</span>
<a id="__codelineno-16-9" name="__codelineno-16-9"></a><span style="color: #66d9ef">5.  JAL242  18:30  19:45</span>
</code></pre></div></td></tr></table></div>
<h4 id="5">演習課題5</h4>
<p>ここまでに作成した関数を用いて，フライトスケジュールの表示機能を完成させよ．</p>
<h2 id="2_1">課題2 フライトの検索機能の実装</h2>
<p>次に，テキストファイルからフライトスケジュールを読み込み，以下に示すように，時刻と表示数が入力されたとき，その時刻以降のフライトを早い順に指定された数だけ標準入出力に表示するプログラムを作成する．</p>
<div class="highlight" style="background: #272822"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-17-1">1</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-17-2">2</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-17-3">3</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-17-4">4</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a><span style="color: #ff4689; font-weight: bold">$ </span>flight2<span style="color: #f8f8f2"> </span>JAL_O2T.txt
<a id="__codelineno-17-2" name="__codelineno-17-2"></a><span style="color: #66d9ef">時刻を(hh:mm)の形式で入力してください．10:30</span>
<a id="__codelineno-17-3" name="__codelineno-17-3"></a><span style="color: #66d9ef">表示数を入力してください(1-10)．1</span>
<a id="__codelineno-17-4" name="__codelineno-17-4"></a><span style="color: #66d9ef">JAL236便 岡山12:55発 羽田14:10着</span>
</code></pre></div></td></tr></table></div>
<p>ここで表示数は1〜10の間から選択するものとし，該当するフライトが入力された表示数より少ない場合は該当するもののみを表示すること．
該当するスケジュールが存在しないときは，その旨を表示する．
なお，時刻は時と分を表す1～2桁の整数を「<code>:</code>」(半角コロン)で繋げた形式で与えられるものとする．</p>
<h3 id="_4">プログラムの実装</h3>
<p>この機能は，時刻からフライトを検索する関数<code>search_flight()</code>と，フライト情報を標準入出力に表示する関数<code>print_flight()</code>の2つの関数によって実現する． </p>
<h4 id="6">演習課題6</h4>
<p>フライトスケジュールが格納された<code>FLIGHT</code>型の配列<code>airline</code>，フライトの個数を表す整数<code>flight_num</code>，時刻を表す整数<code>hour</code>と<code>min</code>を引数とし，その時刻よりも後でかつ最も早いフライトを配列<code>airline</code>から探索し，その要素のインデックスを戻り値として返す関数<code>search_flight()</code>を作成せよ．
フライトが見つからなかった場合の戻り値は<code>-1</code>とする．</p>
<div class="highlight" style="background: #272822"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">プロトタイプ宣言</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-18-1">1</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> </span><span style="color: #a6e22e">search_flight</span><span style="color: #f8f8f2"> (FLIGHT airline[], </span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> flight_num, </span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> hour, </span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> min);</span>
</code></pre></div></td></tr></table></div>
<p><code>search_flight()</code> 関数の呼び出し例をサンプルコード <a href="../sample/kadaiR2-6.c">kadaiR2-6.c</a> に示している．
以下に <code>main</code> 関数を抜粋する．
このサンプルコードでは，<code>search_flight()</code> 関数により，時刻 10:30 以降で最も早いフライトを <code>airline</code> からを探索し，そのインデックスを戻り値として変数 <code>i</code> に格納している．
そして，<code>print_airline()</code> 関数によって <code>airline[i]</code> の内容を表示している．</p>
<div class="highlight" style="background: #272822"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">kadaiR2-6.c から抜粋</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-19-1">1</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-19-2">2</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-19-3">3</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-19-4">4</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-19-5">5</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-19-6">6</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-19-7">7</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-19-8">8</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-19-9">9</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> </span><span style="color: #a6e22e">main</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> argc, </span><span style="color: #66d9ef">char</span><span style="color: #f8f8f2"> </span><span style="color: #ff4689">*</span><span style="color: #f8f8f2">argv[]){</span>
<a id="__codelineno-19-2" name="__codelineno-19-2"></a><span style="color: #f8f8f2">    FLIGHT airline[MAX]; </span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> i, n;</span>
<a id="__codelineno-19-3" name="__codelineno-19-3"></a>
<a id="__codelineno-19-4" name="__codelineno-19-4"></a><span style="color: #f8f8f2">    n </span><span style="color: #ff4689">=</span><span style="color: #f8f8f2"> read_airline(argv[</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">], airline);</span>
<a id="__codelineno-19-5" name="__codelineno-19-5"></a><span style="color: #f8f8f2">    i </span><span style="color: #ff4689">=</span><span style="color: #f8f8f2"> search_flight(airline, n, </span><span style="color: #ae81ff">10</span><span style="color: #f8f8f2">, </span><span style="color: #ae81ff">30</span><span style="color: #f8f8f2">);</span>
<a id="__codelineno-19-6" name="__codelineno-19-6"></a><span style="color: #f8f8f2">    print_airline(airline[i]);</span>
<a id="__codelineno-19-7" name="__codelineno-19-7"></a>
<a id="__codelineno-19-8" name="__codelineno-19-8"></a><span style="color: #f8f8f2">    </span><span style="color: #66d9ef">return</span><span style="color: #f8f8f2"> </span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">;</span>
<a id="__codelineno-19-9" name="__codelineno-19-9"></a><span style="color: #f8f8f2">}</span>
</code></pre></div></td></tr></table></div>
<p>このプログラムをコンパイルし，実行すると，以下の結果が得られる．</p>
<div class="highlight" style="background: #272822"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-20-1">1</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-20-2">2</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-20-3">3</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1"></a><span style="color: #ff4689; font-weight: bold">$ </span>gcc<span style="color: #f8f8f2"> </span>kadaiR2-6.c<span style="color: #f8f8f2"> </span>-o<span style="color: #f8f8f2"> </span>kadaiR2-6
<a id="__codelineno-20-2" name="__codelineno-20-2"></a><span style="color: #ff4689; font-weight: bold">$ </span>./kadaiR2-6<span style="color: #f8f8f2"> </span>JALO2T.txt
<a id="__codelineno-20-3" name="__codelineno-20-3"></a><span style="color: #66d9ef">JAL236  12:55  14:10</span>
</code></pre></div></td></tr></table></div>
<h4 id="7">演習課題7</h4>
<p><code>FLIGHT</code>型の構造体を引数として，フライトの情報を標準入出力に表示する関数<code>print_flight()</code>を作成せよ．</p>
<div class="highlight" style="background: #272822"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">プロトタイプ宣言</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-21-1">1</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a><span style="color: #66d9ef">void</span><span style="color: #f8f8f2"> </span><span style="color: #a6e22e">print_flight</span><span style="color: #f8f8f2"> (FLIGHT flight);</span>
</code></pre></div></td></tr></table></div>
<p>出力形式は，</p>
<ul>
<li>JAL236便␣岡山12:55発␣羽田14:10着</li>
</ul>
<p>のように，便名，出発地と出発時刻，そして到着地と到着時刻を半角スペースで区切ったものとする．</p>
<p><code>print_flight()</code> 関数の呼び出し例をサンプルコード <a href="../sample/kadaiR2-7.c">kadaiR2-7.c</a> に示している．
以下に <code>main</code> 関数を抜粋する．
このサンプルコードでは，kadaiR2-6.c と同様に，フライト情報を <code>airline</code> に格納し，10:30 以降で最も早いフライトを検索してそのインデックスを <code>i</code> に格納している．
その後，<code>print_flight()</code> 関数によってフライト情報を表示している．</p>
<div class="highlight" style="background: #272822"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">kadaiR2-7.c から抜粋</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-22-1">1</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-22-2">2</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-22-3">3</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-22-4">4</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-22-5">5</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-22-6">6</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-22-7">7</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-22-8">8</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-22-9">9</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> </span><span style="color: #a6e22e">main</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> argc, </span><span style="color: #66d9ef">char</span><span style="color: #f8f8f2"> </span><span style="color: #ff4689">*</span><span style="color: #f8f8f2">argv[]){</span>
<a id="__codelineno-22-2" name="__codelineno-22-2"></a><span style="color: #f8f8f2">    FLIGHT airline[MAX]; </span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> i, n;</span>
<a id="__codelineno-22-3" name="__codelineno-22-3"></a>
<a id="__codelineno-22-4" name="__codelineno-22-4"></a><span style="color: #f8f8f2">    n </span><span style="color: #ff4689">=</span><span style="color: #f8f8f2"> read_airline(argv[</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">], airline);</span>
<a id="__codelineno-22-5" name="__codelineno-22-5"></a><span style="color: #f8f8f2">    i </span><span style="color: #ff4689">=</span><span style="color: #f8f8f2"> search_flight(airline, n, </span><span style="color: #ae81ff">10</span><span style="color: #f8f8f2">, </span><span style="color: #ae81ff">30</span><span style="color: #f8f8f2">);</span>
<a id="__codelineno-22-6" name="__codelineno-22-6"></a><span style="color: #f8f8f2">    print_flight(airline[i]);</span>
<a id="__codelineno-22-7" name="__codelineno-22-7"></a>
<a id="__codelineno-22-8" name="__codelineno-22-8"></a><span style="color: #f8f8f2">    </span><span style="color: #66d9ef">return</span><span style="color: #f8f8f2"> </span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">;</span>
<a id="__codelineno-22-9" name="__codelineno-22-9"></a><span style="color: #f8f8f2">}</span>
</code></pre></div></td></tr></table></div>
<p>このプログラムをコンパイルし，実行すると，以下の結果が得られる．</p>
<div class="highlight" style="background: #272822"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-23-1">1</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-23-2">2</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-23-3">3</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1"></a><span style="color: #ff4689; font-weight: bold">$ </span>gcc<span style="color: #f8f8f2"> </span>kadaiR2-7.c<span style="color: #f8f8f2"> </span>-o<span style="color: #f8f8f2"> </span>kadaiR2-7
<a id="__codelineno-23-2" name="__codelineno-23-2"></a><span style="color: #ff4689; font-weight: bold">$ </span>./kadaiR2-7<span style="color: #f8f8f2"> </span>JALO2T.txt
<a id="__codelineno-23-3" name="__codelineno-23-3"></a><span style="color: #66d9ef">JAL236便 岡山12:55発 羽田14:10着</span>
</code></pre></div></td></tr></table></div>
<h4 id="8">演習課題8</h4>
<p><code>FLIGHT</code>型の構造体，フライトの個数を表す整数<code>flight_num</code>，表示を開始するインデックスを表す整数<code>i</code>，表示数を表す整数<code>print_num</code>を引数として，指定された数だけフライトの情報を標準入出力に表示する関数<code>print_some_flights()</code>を作成せよ．</p>
<div class="highlight" style="background: #272822"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">プロトタイプ宣言</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-24-1">1</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1"></a><span style="color: #66d9ef">void</span><span style="color: #f8f8f2"> </span><span style="color: #a6e22e">print_some_flights</span><span style="color: #f8f8f2"> (FLIGHT airline[], </span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> flight_num, </span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> i, </span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> print_num);</span>
</code></pre></div></td></tr></table></div>
<p><code>print_some_flights()</code> 関数の呼び出し例をサンプルコード <a href="../sample/kadaiR2-8.c">kadaiR2-8.c</a> に示している．
このサンプルコードでは，kadaiR2-6.c，kadaiR2-7.c と同様にフライト情報を <code>airline</code> に格納し，10:30 以降で最も早いフライトを検索してそのインデックスを <code>i</code> に格納している．
その後，<code>print_some_flights()</code> 関数で 3 つのフライト情報を表示している．</p>
<div class="highlight" style="background: #272822"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">kadaiR2-8.c から抜粋</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-25-1">1</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-25-2">2</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-25-3">3</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-25-4">4</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-25-5">5</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-25-6">6</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-25-7">7</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-25-8">8</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-25-9">9</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1"></a><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> </span><span style="color: #a6e22e">main</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> argc, </span><span style="color: #66d9ef">char</span><span style="color: #f8f8f2"> </span><span style="color: #ff4689">*</span><span style="color: #f8f8f2">argv[]){</span>
<a id="__codelineno-25-2" name="__codelineno-25-2"></a><span style="color: #f8f8f2">    FLIGHT airline[MAX]; </span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> i, n;</span>
<a id="__codelineno-25-3" name="__codelineno-25-3"></a>
<a id="__codelineno-25-4" name="__codelineno-25-4"></a><span style="color: #f8f8f2">    n </span><span style="color: #ff4689">=</span><span style="color: #f8f8f2"> read_airline(argv[</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">], airline);</span>
<a id="__codelineno-25-5" name="__codelineno-25-5"></a><span style="color: #f8f8f2">    i </span><span style="color: #ff4689">=</span><span style="color: #f8f8f2"> search_flight(airline, n, </span><span style="color: #ae81ff">10</span><span style="color: #f8f8f2">, </span><span style="color: #ae81ff">30</span><span style="color: #f8f8f2">);</span>
<a id="__codelineno-25-6" name="__codelineno-25-6"></a><span style="color: #f8f8f2">    print_some_flights(airline, n, i, </span><span style="color: #ae81ff">3</span><span style="color: #f8f8f2">);</span>
<a id="__codelineno-25-7" name="__codelineno-25-7"></a>
<a id="__codelineno-25-8" name="__codelineno-25-8"></a><span style="color: #f8f8f2">    </span><span style="color: #66d9ef">return</span><span style="color: #f8f8f2"> </span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">;</span>
<a id="__codelineno-25-9" name="__codelineno-25-9"></a><span style="color: #f8f8f2">}</span>
</code></pre></div></td></tr></table></div>
<p>このプログラムをコンパイルし，実行すると，以下の結果が得られる．</p>
<div class="highlight" style="background: #272822"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-26-1">1</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-26-2">2</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-26-3">3</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-26-4">4</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-26-5">5</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1"></a><span style="color: #ff4689; font-weight: bold">$ </span>gcc<span style="color: #f8f8f2"> </span>kadaiR2-8.c<span style="color: #f8f8f2"> </span>-o<span style="color: #f8f8f2"> </span>kadaiR2-8
<a id="__codelineno-26-2" name="__codelineno-26-2"></a><span style="color: #ff4689; font-weight: bold">$ </span>./kadaiR2-8<span style="color: #f8f8f2"> </span>JALO2T.txt
<a id="__codelineno-26-3" name="__codelineno-26-3"></a><span style="color: #66d9ef">JAL236便 岡山12:55発 羽田14:10着</span>
<a id="__codelineno-26-4" name="__codelineno-26-4"></a><span style="color: #66d9ef">JAL236便 岡山16:40発 羽田17:55着</span>
<a id="__codelineno-26-5" name="__codelineno-26-5"></a><span style="color: #66d9ef">JAL236便 岡山18:30発 羽田16:45着</span>
</code></pre></div></td></tr></table></div>
<h4 id="9">演習課題9</h4>
<p>これまでに作成した関数を用いて，フライトの検索機能を完成させよ．</p>
<h4 id="10">演習課題10</h4>
<p>以下に示すように，フライトスケジュールの表示機能と，フライトの検索機能を切り替えて実行できるようにせよ．</p>
<div class="highlight" style="background: #272822"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-27-1">1</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-27-2">2</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-27-3">3</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-27-4">4</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1"></a><span style="color: #ff4689; font-weight: bold">$ </span>flight<span style="color: #f8f8f2"> </span>JAL_O2T.txt
<a id="__codelineno-27-2" name="__codelineno-27-2"></a><span style="color: #66d9ef">機能を選んでください(1:表示, 2:検索)．2</span>
<a id="__codelineno-27-3" name="__codelineno-27-3"></a><span style="color: #66d9ef">時刻を(hh:mm)の形式で入力してください．12:00</span>
<a id="__codelineno-27-4" name="__codelineno-27-4"></a><span style="color: #66d9ef">JAL236便 12:40発 13:55着</span>
</code></pre></div></td></tr></table></div>
<h2 id="_5">補足資料</h2>
<p>課題R2では，コマンドライン引数を伴う実行や，外部ファイルからのデータの読み込みなど，これまでの演習ではあまり扱ってこなかった機能を利用してプログラムを作成する．
ソフトウェア演習Iやプログラム言語IIなど，他の講義・演習で学習した内容と重複する部分もあると思われるが，補足としてコマンドラインインタフェースやファイル入出力について概説する．</p>
<h3 id="cli">コマンドラインインタフェース（CLI）</h3>
<p>この演習で作成するプログラムは，<strong>コマンドライン</strong>で実行されることを前提としている．
コマンドラインというのは1行（ライン）の文字列として表される命令（コマンド）で，例えば Windows の場合，コマンドプロンプト（cmd.exe）で <code>dir</code>と入力すれば以下の図のようにファイルの一覧が表示される．
これは <code>dir</code> がファイルの一覧を表示するコマンドだからである．</p>
<p><center>
<img src="../img/r2/r2a-1.png" width="480">
</center></p>
<p>同様に，作成したプログラムをコンパイルして実行する場合は，</p>
<ol>
<li>プログラムをコンパイルするコマンド（例えば <code>gcc -o sample sample.c</code>）</li>
<li>プログラムを実行するコマンド（例えば <code>./sample</code>）</li>
</ol>
<p>をそれぞれ入力する必要がある．
Visual Studio でプログラムを作成している場合は，こういった処理はVisual Studio 内でやってくれるので，あまり意識することはないかもしれない．</p>
<p>コマンドは，実行するときにコマンドライン引数をつけることができる（コマンドによっては必ずつけないといけない場合もある）．
例えば <code>dir</code> コマンドの場合，コマンド引数としてフォルダ名を併せて入力すると，そのフォルダ内のファイルの一覧が表示される．
コマンド引数を省略すると，今自分がいるフォルダ（カレントフォルダ）のファイルの一覧が表示される．
Visual Studio でプログラムを実行するときはコマンドラインを使わないので，引数をつけたい場合はデバッグオプションを使う必要がある．</p>
<div class="admonition tip">
<p class="admonition-title">デバッグオプションによる引数の指定</p>
<p>Visual Studio でコマンドライン引数を用いる場合は，メニューの「デバック(D)＞（プロジェクト名）のプロパティ」を開き，「構成プロパティ＞デバッグ＞コマンド引数」の欄に引数を入力すること．この課題の場合は，「JAL_O2T.txt」などのファイル名となる．</p>
<ul>
<li>
<p>デバッグプロパティ
<center>
<img src="../img/r2/r2-3.png">
</center></p>
</li>
<li>
<p>コマンド引数の指定
<center>
<img src="../img/r2/r2-4.png">
</center></p>
</li>
</ul>
</div>
<h3 id="_6">パス</h3>
<p>上述の <code>dir</code> の例で，コマンド引数としてフォルダ名を入力するとき，単純に目的のフォルダの名前だけを入力してもコンピュータ側に伝わらない場合がある．</p>
<p><center>
<img src="../img/r2/r2a-2.png" width="171">
</center></p>
<p>例えば上記のようなフォルダ構成の場合，カレントフォルダが <code>User1</code> のときコマンドラインに <code>dir ABC</code> と入力すると <code>ABC</code> フォルダの内容が表示されるが，<code>dir DEF</code> と入力してもフォルダの内容は表示されない．
<code>DEF</code> フォルダは <code>ABC</code> フォルダの中にあるので，<code>dir ABC/DEF</code> と入力する必要がある．
<code>ABC/DEF</code> のように，フォルダやファイルの位置を参照するための文字列を<strong>パス（path）</strong>という．
パスには相対パスと絶対パスがあり，相対パスはカレントフォルダを起点としたファイルやフォルダの位置を示すもの，絶対パスはカレントフォルダに依存せずにファイルやフォルダの位置を示すもの，という違いがある．
先ほどの <code>ABC/DEF</code> は，カレントフォルダを起点としたフォルダの場所を示すものなので，相対パスである．</p>
<p>Visual Studio のデバッグオプションでコマンド引数を指定する際に，ファイル名（例えば <code>JAL_O2T.txt</code>）のみ記入すると相対パスとして扱われるので，指定するファイルはプログラムの実行ファイルと同じフォルダに置いておかないといけない．</p>
<h3 id="c">C 言語でのコマンド引数の扱い</h3>
<p>C でコマンド引数をもつプログラムを作成する場合，以下のように <code>main</code> 関数に2つの引数 <code>argc</code> と <code>argv</code> を指定する．</p>
<div class="highlight" style="background: #272822"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-28-1">1</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-28-2">2</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-28-3">3</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1"></a><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> </span><span style="color: #a6e22e">main</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> argc, </span><span style="color: #66d9ef">char</span><span style="color: #f8f8f2"> </span><span style="color: #ff4689">*</span><span style="color: #f8f8f2">argv[]){</span>
<a id="__codelineno-28-2" name="__codelineno-28-2"></a><span style="color: #f8f8f2">    </span><span style="color: #959077">/* 関数の中身 */</span>
<a id="__codelineno-28-3" name="__codelineno-28-3"></a><span style="color: #f8f8f2">}</span>
</code></pre></div></td></tr></table></div>
<p>コンパイルしたプログラムに引数をつけて実行すると，これらの変数には以下の値が格納される．</p>
<ul>
<li><code>argc</code>：引数の個数</li>
<li><code>argv[0]</code>：プログラムの実行ファイルのパス</li>
<li><code>argv[1]</code>：1 つめの引数の文字列のアドレス</li>
<li><code>argv[2]</code>：2 つめの引数の文字列のアドレス</li>
<li><code>argv[3]</code>：3 つめの...</li>
</ul>
<p>以下のプログラムをコンパイルし，適当な引数をつけて実行してみよう．</p>
<div class="highlight" style="background: #272822"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-29-1">1</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-29-2">2</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-29-3">3</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-29-4">4</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-29-5">5</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-29-6">6</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-29-7">7</a></span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-29-8">8</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1"></a><span style="color: #959077">#include</span><span style="color: #f8f8f2"> </span><span style="color: #959077">&lt;stdio.h&gt;</span>
<a id="__codelineno-29-2" name="__codelineno-29-2"></a><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> </span><span style="color: #a6e22e">main</span><span style="color: #f8f8f2"> (</span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> argc, </span><span style="color: #66d9ef">char</span><span style="color: #f8f8f2"> </span><span style="color: #ff4689">*</span><span style="color: #f8f8f2">argv[]){</span>
<a id="__codelineno-29-3" name="__codelineno-29-3"></a><span style="color: #f8f8f2">    </span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2"> i;</span>
<a id="__codelineno-29-4" name="__codelineno-29-4"></a><span style="color: #f8f8f2">    </span><span style="color: #66d9ef">for</span><span style="color: #f8f8f2"> (i</span><span style="color: #ff4689">=</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">; i</span><span style="color: #ff4689">&lt;</span><span style="color: #f8f8f2">argc; i</span><span style="color: #ff4689">++</span><span style="color: #f8f8f2">) {</span>
<a id="__codelineno-29-5" name="__codelineno-29-5"></a><span style="color: #f8f8f2">        printf(</span><span style="color: #e6db74">&quot;%s</span><span style="color: #ae81ff">\n</span><span style="color: #e6db74">&quot;</span><span style="color: #f8f8f2">, argv[i]);</span>
<a id="__codelineno-29-6" name="__codelineno-29-6"></a><span style="color: #f8f8f2">    }</span>
<a id="__codelineno-29-7" name="__codelineno-29-7"></a><span style="color: #f8f8f2">    </span><span style="color: #66d9ef">return</span><span style="color: #f8f8f2"> </span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">;</span>
<a id="__codelineno-29-8" name="__codelineno-29-8"></a><span style="color: #f8f8f2">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="_7">ファイル入出力</h3>
<p>C で外部のファイルからデータを読み込んだり（ファイル入力），ファイルにデータを書き込んだり（ファイル出力）する場合，ファイルポインタを使う必要がある．
ファイルポインタは <code>FILE</code> 型の構造体へのポインタという形で定義される．
<code>FILE</code> 型構造体の詳しい説明は（環境に依存する部分も大きいので）ここでは省略するが，以下の図のように対象となる外部ファイルのどの部分にアクセスしているか，という情報が含まれている．</p>
<p><center>
<img src="../img/r2/r2a-3.png" width="490">
</center></p>
<p>宣言したファイルポインタを実際に扱うファイルと関連付けるためには <code>fopen</code> 関数を用いる．
<code>fopen</code> 関数の引数は <code>filename</code> と <code>mode</code> の２つで，戻り値は <code>FILE</code> 型構造体へのポインタ（ファイルポインタ）である．
<code>fopen</code> を実行すると，<code>filename</code> で指定された名前のファイルを <code>mode</code> で指定されたモードで開こうとし，うまく開ければそのファイルにアクセスするためのファイルポインタが，開けなければ <code>NULL</code> ポインタが戻り値として返ってくる．
ここでモードとは，ファイルをどのように扱うかを指定する文字列で，読み取り（<code>"r"</code>），書き込み（<code>"w"</code>），追加書き込み（<code>"a"</code>）などいろいろなものが指定できる．
この演習課題ではファイルの内容を参照するだけで更新しないので，読み取り（<code>"r"</code>）にしておけば問題はない．
ファイルとファイルポインタとの関連付けを解除するには <code>fclose</code> 関数を用いる．</p>
<p>ファイル入出力に関する関数をいくつか説明する．
これらの関数は <code>#include &lt;stdio.h&gt;</code> すれば利用できる．
1文字単位で入出力を行う場合は <code>fgetc</code> と <code>fputc</code> を用いる．</p>
<ul>
<li><code>int fgetc (FILE *fp)</code></li>
<li><code>int fputc (int c, FILE *fp)</code></li>
</ul>
<p><code>fgetc</code> の引数はファイルポインタ，戻り値はファイルから読み込んだ文字となる．
ファイルの最後か読み取りに失敗すると <code>EOF</code> を返す．
<code>fputc</code> の引数は書き込む文字とファイルポインタで，戻り値は書き込んだ文字となる．
書き込みに失敗すると <code>EOF</code> を返す．</p>
<p>1行単位で入出力を行う場合は <code>fgets</code> と <code>fputs</code> を用いる．
読み取りおよび書き込みは文字列に対して行う．</p>
<ul>
<li><code>char *fgets (char *s, int n, FILE *fp)</code></li>
<li><code>char *fputs (char *s, FILE *fp)</code></li>
</ul>
<p><code>fgets</code> の引数は読み取り先の文字列のアドレスと読み取る文字数の最大値，そしてファイルポインタで，ファイルの最後か読み取りに失敗すると戻り値として <code>NULL</code> を返す．
行の区切りは改行文字 <code>\n</code> で，改行文字を含めて読み取りを行う．
<code>fgets</code> で読み取った文字列には，終端文字 <code>\0</code> が自動的に付け加えられる．
<code>fputs</code> の引数は書き込み元の文字列のアドレスとファイルポインタで，書き込みに失敗すると <code>NULL</code> を返す．
<code>fputc</code> で書き込む文字列には，終端文字 <code>\0</code> が付いている必要がある（<code>\0</code> はファイルには書き込まれない）．</p>
<p><code>scanf</code> や <code>printf</code> のように書式付きで入出力を行う場合は <code>fscanf</code> と <code>fprintf</code> を用いる．</p>
<ul>
<li><code>int fscanf (FILE *fp, char *format, …)</code></li>
<li><code>int fprintf (FILE *fp, char *format, …)</code></li>
</ul>
<p><code>fscanf</code> の引数はファイルポインタとフォーマット指定子，そして読み取り先の変数で，戻り値は代入された変数の個数となる．
読み取りに失敗すると <code>EOF</code> を返す．
<code>fprintf</code> の引数はファイルポインタとフォーマット指定子，そして読み取り先の変数で，戻り値は参照された変数の個数となる．
読み取りに失敗すると <code>EOF</code> を返す．
いずれもファイルポインタ以降の引数は <code>scanf</code> および <code>printf</code> と同様である．</p>







  
  




  



                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.annotate", "navigation.tabs", "navigation.tabs.sticky"], "search": "../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
        <script src="../js/extra.js"></script>
      
        <script src="../js/config.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS_CHTML"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js"></script>
      
    
  </body>
</html>